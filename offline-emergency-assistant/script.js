'use strict';

/* â”€â”€ Embedded Data (no fetch/CORS issues on file://) â”€â”€ */
const FIRST_AID_DATA = [
    {
        id: 1, title: "CPR (Cardiac Arrest)", title_te: "CPR (à°—à±à°‚à°¡à±† à°†à°—à°¿à°ªà±‹à°µà°¡à°‚)", icon: "â¤ï¸",
        keywords: ["cpr", "cardiac", "heart", "unconscious", "not breathing", "chest"],
        steps: ["Ensure scene is safe. Tap and shout 'Are you okay?'", "Call 108 immediately.", "Lay flat on back on firm surface.", "Place heel of hand on center of chest.", "Push hard & fast â€” 5cm deep, 30 compressions at 100â€“120/min.", "Tilt chin, pinch nose, give 2 rescue breaths.", "Repeat 30 compressions + 2 breaths until help arrives."],
        steps_te: ["à°ªà°°à°¿à°¸à°°à°¾à°²à± à°¸à±à°°à°•à±à°·à°¿à°¤à°‚à°—à°¾ à°‰à°¨à±à°¨à°¾à°¯à±‹ à°šà±‚à°¡à°‚à°¡à°¿. à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°¤à°Ÿà±à°Ÿà°¿ à°…à°¡à°—à°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°—à°Ÿà±à°Ÿà°¿ à°¨à±‡à°²à°ªà±ˆ à°µà±†à°²à±à°²à°•à°¿à°²à°¾ à°ªà°¡à±à°•à±‹à°¬à±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°…à°°à°šà±‡à°¤à°¿ à°µà±‡à°¡à±à°•à°¨à± à°›à°¾à°¤à±€ à°®à°§à±à°¯à°²à±‹ à°ªà±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°—à°Ÿà±à°Ÿà°¿à°—à°¾ à°¨à±Šà°•à±à°•à°‚à°¡à°¿ â€” 5 à°¸à±†à°‚.à°®à±€ à°²à±‹à°¤à±à°—à°¾, à°¨à°¿à°®à°¿à°·à°¾à°¨à°¿à°•à°¿ 100â€“120 à°¸à°¾à°°à±à°²à±.", "à°—à°¡à±à°¡à°¾à°¨à±à°¨à°¿ à°ªà±ˆà°•à°¿ à°¤à°¿à°ªà±à°ªà°¿, à°®à±à°•à±à°•à± à°¨à±Šà°•à±à°•à°¿, 2 à°¶à±à°µà°¾à°¸à°²à± à°‡à°µà±à°µà°‚à°¡à°¿.", "30 à°¨à±Šà°•à±à°•à±à°²à± + 2 à°¶à±à°µà°¾à°¸à°²à± à°ªà±à°¨à°°à°¾à°µà±ƒà°¤à°‚ à°šà±‡à°¯à°‚à°¡à°¿. à°†à°ªà°•à°‚à°¡à°¿."]
    },
    {
        id: 2, title: "Choking", title_te: "à°—à±Šà°‚à°¤à±à°²à±‹ à°…à°¡à±à°¡à±à°ªà°¡à°Ÿà°‚", icon: "ðŸ«",
        keywords: ["choking", "throat", "blocked", "airway", "cannot breathe", "food stuck"],
        steps: ["Ask 'Are you choking?' â€” if no speech, act immediately.", "Lean forward, give 5 firm back blows between shoulder blades.", "If fails, perform 5 abdominal thrusts (Heimlich).", "Stand behind, fist above navel, pull sharply inward and upward.", "Alternate 5 back blows + 5 thrusts until object clears.", "If unconscious, start CPR and call 108."],
        steps_te: ["'à°—à±Šà°‚à°¤à±à°²à±‹ à°…à°¡à±à°¡à±à°ªà°¡à°¿à°‚à°¦à°¾?' à°…à°¡à°—à°‚à°¡à°¿ â€” à°®à°¾à°Ÿà±à°²à°¾à°¡à°²à±‡à°•à°ªà±‹à°¤à±‡ à°µà±†à°‚à°Ÿà°¨à±‡ à°šà°°à±à°¯ à°¤à±€à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°®à±à°‚à°¦à±à°•à± à°µà°‚à°šà°¿, à°­à±à°œà°¾à°² à°®à°§à±à°¯ 5 à°—à°Ÿà±à°Ÿà°¿ à°¦à±†à°¬à±à°¬à°²à± à°‡à°µà±à°µà°‚à°¡à°¿.", "à°ªà°¨à°¿à°šà±‡à°¯à°•à°ªà±‹à°¤à±‡, 5 à°ªà±Šà°Ÿà±à°Ÿ à°¨à±Šà°•à±à°•à±à°²à± (à°¹à±ˆà°®à±à°²à°¿à°•à±) à°‡à°µà±à°µà°‚à°¡à°¿.", "à°µà±†à°¨à°• à°¨à°¿à°²à°¬à°¡à°¿, à°¨à°¾à°­à°¿ à°ªà±ˆà°¨ à°ªà°¿à°¡à°¿à°•à°¿à°²à°¿ à°ªà±†à°Ÿà±à°Ÿà°¿, à°²à±‹à°ªà°²à°¿à°•à°¿ à°®à°°à°¿à°¯à± à°ªà±ˆà°•à°¿ à°²à°¾à°—à°‚à°¡à°¿.", "à°µà°¸à±à°¤à±à°µà± à°¬à°¯à°Ÿà°¿à°•à°¿ à°µà°šà±à°šà±‡à°µà°°à°•à± à°®à°¾à°°à±à°šà°¿ à°®à°¾à°°à±à°šà°¿ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹ à°¤à°ªà±à°ªà°¿à°¤à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°¿ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿."]
    },
    {
        id: 3, title: "Burns", title_te: "à°•à°¾à°²à°¿à°¨ à°—à°¾à°¯à°¾à°²à±", icon: "ðŸ”¥",
        keywords: ["burn", "fire", "scald", "hot", "blister", "skin"],
        steps: ["Remove person from heat source safely.", "Cool burn under cool (NOT icy) water for 10â€“20 mins.", "Do NOT apply ice, butter, toothpaste or cream.", "Remove clothing/jewelry near burn.", "Cover loosely with clean non-fluffy material.", "For large/deep burns call 108 â€” do NOT pop blisters."],
        steps_te: ["à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°®à°‚à°Ÿ à°®à±‚à°²à°‚ à°¨à±à°‚à°¡à°¿ à°¸à±à°°à°•à±à°·à°¿à°¤à°‚à°—à°¾ à°¦à±‚à°°à°‚ à°šà±‡à°¯à°‚à°¡à°¿.", "à°•à°¾à°²à°¿à°¨ à°šà±‹à°Ÿà±à°ªà±ˆ 10â€“20 à°¨à°¿à°®à°¿à°·à°¾à°²à± à°šà°²à±à°²à°Ÿà°¿ à°¨à±€à°³à±à°³à± à°ªà±‹à°¯à°‚à°¡à°¿ (à°®à°‚à°šà± à°•à°¾à°¦à±).", "à°®à°‚à°šà±, à°µà±†à°¨à±à°¨, à°ªà±‡à°¸à±à°Ÿà± à°²à±‡à°¦à°¾ à° à°•à±à°°à±€à°®à± à°•à±‚à°¡à°¾ à°µà±‡à°¯à°•à°‚à°¡à°¿.", "à°•à°¾à°²à°¿à°¨ à°šà±‹à°Ÿà± à°¦à°—à±à°—à°° à°¦à±à°¸à±à°¤à±à°²à± à°®à°°à°¿à°¯à± à°¨à°—à°²à± à°¤à±€à°¯à°‚à°¡à°¿.", "à°¶à±à°­à±à°°à°®à±ˆà°¨ à°ªà°¦à°¾à°°à±à°¥à°‚à°¤à±‹ à°µà°¦à±à°²à±à°—à°¾ à°•à°ªà±à°ªà°‚à°¡à°¿.", "à°ªà±†à°¦à±à°¦ à°²à±‡à°¦à°¾ à°²à±‹à°¤à±ˆà°¨ à°•à°¾à°²à°¿à°¨à°‚à°¦à±à°•à± 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿ â€” à°¬à±Šà°¬à±à°¬à°²à± à°ªà°—à°²à°—à±Šà°Ÿà±à°Ÿà°•à°‚à°¡à°¿."]
    },
    {
        id: 4, title: "Severe Bleeding", title_te: "à°¤à±€à°µà±à°°à°®à±ˆà°¨ à°°à°•à±à°¤à°¸à±à°°à°¾à°µà°‚", icon: "ðŸ©¸",
        keywords: ["bleeding", "blood", "wound", "cut", "hemorrhage", "injury"],
        steps: ["Apply firm direct pressure with clean cloth or bandage.", "Do NOT remove cloth â€” if soaked, add more on top.", "Elevate injured part above heart level if possible.", "Maintain pressure for 10â€“15 mins without peeking.", "If object embedded, do NOT remove â€” pad around it.", "Call 108 immediately for severe bleeding."],
        steps_te: ["à°¶à±à°­à±à°°à°®à±ˆà°¨ à°—à±à°¡à±à°¡à°¤à±‹ à°—à°¾à°¯à°‚à°ªà±ˆ à°¨à±‡à°°à±à°—à°¾ à°—à°Ÿà±à°Ÿà°¿à°—à°¾ à°¨à±Šà°•à±à°•à°‚à°¡à°¿.", "à°—à±à°¡à±à°¡à°¨à± à°¤à±€à°¯à°•à°‚à°¡à°¿ â€” à°¤à°¡à°¿à°¸à°¿à°ªà±‹à°¤à±‡ à°ªà±ˆà°¨ à°®à°°à°¿à°‚à°¤ à°µà±‡à°¯à°‚à°¡à°¿.", "à°¸à°¾à°§à±à°¯à°®à±ˆà°¤à±‡ à°—à°¾à°¯à°ªà°¡à°¿à°¨ à°…à°‚à°—à°¾à°¨à±à°¨à°¿ à°—à±à°‚à°¡à±† à°•à°‚à°Ÿà±‡ à°ªà±ˆà°•à°¿ à°²à±‡à°ªà°‚à°¡à°¿.", "à°šà±‚à°¡à°•à±à°‚à°¡à°¾ 10â€“15 à°¨à°¿à°®à°¿à°·à°¾à°²à± à°¨à±Šà°•à±à°•à±à°¤à±‚ à°‰à°‚à°¡à°‚à°¡à°¿.", "à°µà°¸à±à°¤à±à°µà± à°—à±à°šà±à°šà±à°•à±à°‚à°Ÿà±‡, à°¤à±€à°¯à°•à°‚à°¡à°¿ â€” à°šà±à°Ÿà±à°Ÿà±‚ à°ªà°¾à°¡à± à°µà±‡à°¸à°¿ à°¨à±Šà°•à±à°•à°‚à°¡à°¿.", "à°¤à±€à°µà±à°°à°®à±ˆà°¨ à°°à°•à±à°¤à°¸à±à°°à°¾à°µà°¾à°¨à°¿à°•à°¿ à°µà±†à°‚à°Ÿà°¨à±‡ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿."]
    },
    {
        id: 5, title: "Fracture", title_te: "à°Žà°®à±à°• à°µà°¿à°°à±à°—à±à°¡à±", icon: "ðŸ¦´",
        keywords: ["fracture", "broken", "bone", "sprain", "crack", "limb"],
        steps: ["Do NOT move injured person unless in immediate danger.", "Immobilize area â€” use splint (newspaper, stick) if available.", "Tie splint above and below fracture, not over it.", "Apply cloth-wrapped ice to reduce swelling (20 min ON, 20 OFF).", "For open fractures cover wound â€” do NOT push bone in.", "Call 108 and keep person still and warm."],
        steps_te: ["à°¤à°•à±à°·à°£ à°ªà±à°°à°®à°¾à°¦à°‚ à°²à±‡à°•à°ªà±‹à°¤à±‡ à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°•à°¦à°¿à°²à°¿à°‚à°šà°•à°‚à°¡à°¿.", "à°—à°¾à°¯à°ªà°¡à°¿à°¨ à°­à°¾à°—à°¾à°¨à±à°¨à°¿ à°¸à±à°¥à°¿à°°à°‚à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿ â€” à°¸à±à°ªà±à°²à°¿à°‚à°Ÿà± à°‰à°ªà°¯à±‹à°—à°¿à°‚à°šà°‚à°¡à°¿.", "à°µà°¿à°°à±à°—à±à°¡à±à°•à± à°ªà±ˆà°¨ à°®à°°à°¿à°¯à± à°•à°¿à°‚à°¦ à°¸à±à°ªà±à°²à°¿à°‚à°Ÿà± à°•à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°µà°¾à°ªà± à°¤à°—à±à°—à°¿à°‚à°šà°¡à°¾à°¨à°¿à°•à°¿ à°—à±à°¡à±à°¡à°²à±‹ à°šà±à°Ÿà±à°Ÿà°¿à°¨ à°®à°‚à°šà± à°ªà±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°¤à±†à°°à°¿à°šà°¿à°¨ à°µà°¿à°°à±à°—à±à°³à±à°³à°•à± à°¶à±à°­à±à°°à°®à±ˆà°¨ à°—à±à°¡à±à°¡à°¤à±‹ à°•à°ªà±à°ªà°‚à°¡à°¿ â€” à°Žà°®à±à°•à°¨à± à°¨à±†à°Ÿà±à°Ÿà°•à°‚à°¡à°¿.", "108 à°•à°¾à°²à± à°šà±‡à°¸à°¿ à°¸à°¹à°¾à°¯à°‚ à°µà°šà±à°šà±‡à°µà°°à°•à± à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°¶à°¾à°‚à°¤à°‚à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿."]
    },
    {
        id: 6, title: "Drowning", title_te: "à°®à±à°¨à°¿à°—à°¿à°ªà±‹à°µà°¡à°‚", icon: "ðŸŒŠ",
        keywords: ["drowning", "water", "submerged", "swimming", "river", "flood"],
        steps: ["Do NOT jump in unless trained â€” throw rope, branch, or float.", "Once out, check if breathing.", "Not breathing â€” start CPR (30 compressions, 2 breaths).", "Breathing but unconscious â€” lay on side (recovery position).", "Keep warm â€” remove wet clothes, cover with blanket.", "Call 108 even if they seem okay â€” delayed symptoms can occur."],
        steps_te: ["à°¶à°¿à°•à±à°·à°£ à°ªà±Šà°‚à°¦à°•à°ªà±‹à°¤à±‡ à°¨à±€à°Ÿà°¿à°²à±‹à°•à°¿ à°¦à±‚à°•à°•à°‚à°¡à°¿ â€” à°¤à°¾à°¡à± à°²à±‡à°¦à°¾ à°¤à±‡à°²à±‡ à°µà°¸à±à°¤à±à°µà± à°µà°¿à°¸à°°à°‚à°¡à°¿.", "à°¨à±€à°Ÿà°¿ à°¨à±à°‚à°¡à°¿ à°¬à°¯à°Ÿà°¿à°•à°¿ à°¤à±†à°šà±à°šà°¿à°¨ à°¤à°°à±à°µà°¾à°¤, à°¶à±à°µà°¾à°¸ à°¤à±€à°¸à±à°•à±à°‚à°Ÿà±à°¨à±à°¨à°¾à°°à±‹ à°šà±‚à°¡à°‚à°¡à°¿.", "à°¶à±à°µà°¾à°¸ à°²à±‡à°•à°ªà±‹à°¤à±‡ â€” à°µà±†à°‚à°Ÿà°¨à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹ à°²à±‡à°•à±à°‚à°¡à°¾ à°¶à±à°µà°¾à°¸ à°¤à±€à°¸à±à°•à±à°‚à°Ÿà±‡ â€” à°ªà±à°°à°•à±à°• à°ªà°¡à±à°•à±‹à°¬à±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°¤à°¡à°¿ à°¦à±à°¸à±à°¤à±à°²à± à°¤à±€à°¸à°¿ à°¦à±à°ªà±à°ªà°Ÿà°¿à°¤à±‹ à°•à°ªà±à°ªà°‚à°¡à°¿.", "à°¬à°¾à°—à±à°¨à±à°¨à°Ÿà±à°²à± à°•à°¨à°¿à°ªà°¿à°‚à°šà°¿à°¨à°¾ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿."]
    },
    {
        id: 7, title: "Snake Bite", title_te: "à°ªà°¾à°®à± à°•à°¾à°Ÿà±", icon: "ðŸ",
        keywords: ["snake", "bite", "venom", "poison", "reptile"],
        steps: ["Keep victim calm and still â€” movement spreads venom.", "Position bitten limb below heart level.", "Remove watches, rings, tight clothing near bite.", "Do NOT cut wound, suck venom, or apply tourniquet.", "Clean gently with clean water only.", "Mark edge of swelling every 15 min to track spread.", "Rush to hospital â€” only antivenom saves the victim."],
        steps_te: ["à°¬à°¾à°§à°¿à°¤à±à°¡à°¿à°¨à°¿ à°¶à°¾à°‚à°¤à°‚à°—à°¾ à°®à°°à°¿à°¯à± à°•à°¦à°²à°•à±à°‚à°¡à°¾ à°‰à°‚à°šà°‚à°¡à°¿.", "à°•à°¾à°Ÿà± à°¤à°—à°¿à°²à°¿à°¨ à°…à°‚à°—à°¾à°¨à±à°¨à°¿ à°—à±à°‚à°¡à±† à°•à°‚à°Ÿà±‡ à°•à°¿à°‚à°¦à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿.", "à°•à°¾à°Ÿà± à°¸à°®à±€à°ªà°‚à°²à±‹ à°—à°¡à°¿à°¯à°¾à°°à°¾à°²à±, à°‰à°‚à°—à°°à°¾à°²à± à°¤à±€à°¯à°‚à°¡à°¿.", "à°—à°¾à°¯à°¾à°¨à±à°¨à°¿ à°•à±‹à°¯à°•à°‚à°¡à°¿, à°µà°¿à°·à°¾à°¨à±à°¨à°¿ à°ªà±€à°²à±à°šà°•à°‚à°¡à°¿, à°Ÿà±‹à°°à±à°¨à°¿à°•à±†à°Ÿà± à°µà±‡à°¯à°•à°‚à°¡à°¿.", "à°¶à±à°­à±à°°à°®à±ˆà°¨ à°¨à±€à°³à±à°³à°¤à±‹ à°®à°¾à°¤à±à°°à°®à±‡ à°¶à±à°­à±à°°à°‚ à°šà±‡à°¯à°‚à°¡à°¿.", "à°ªà±à°°à°¤à°¿ 15 à°¨à°¿à°®à°¿à°·à°¾à°²à°•à± à°µà°¾à°ªà± à°…à°‚à°šà± à°ªà±†à°¨à±à°¨à±à°¤à±‹ à°—à±à°°à±à°¤à°¿à°‚à°šà°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ à°†à°¸à±à°ªà°¤à±à°°à°¿à°•à°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿ â€” à°¯à°¾à°‚à°Ÿà±€à°µà±†à°¨à°®à± à°®à°¾à°¤à±à°°à°®à±‡ à°°à°•à±à°·à°¿à°‚à°šà°—à°²à°¦à±."]
    },
    {
        id: 8, title: "Electric Shock", title_te: "à°µà°¿à°¦à±à°¯à±à°¤à± à°·à°¾à°•à±", icon: "âš¡",
        keywords: ["electric", "shock", "electrocution", "current", "wire", "power"],
        steps: ["Do NOT touch victim while in contact with electricity.", "Switch off power at main switch immediately.", "Use non-conductive object (dry wood, plastic) to push away.", "Check if conscious and breathing.", "Not breathing â€” CPR immediately and call 108.", "Treat burns with cool running water.", "Do NOT give water or food â€” keep still and warm."],
        steps_te: ["à°¬à°¾à°§à°¿à°¤à±à°¡à± à°µà°¿à°¦à±à°¯à±à°¤à±à°¤à±‹ à°¸à°‚à°ªà±à°°à°¦à°¿à°¸à±à°¤à±à°¨à±à°¨à°ªà±à°ªà±à°¡à± à°¤à°¾à°•à°•à°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ à°®à±†à°¯à°¿à°¨à± à°¸à±à°µà°¿à°šà± à°µà°¦à±à°¦ à°µà°¿à°¦à±à°¯à±à°¤à± à°†à°ªà°‚à°¡à°¿.", "à°¨à°¾à°¨à±-à°•à°‚à°¡à°•à±à°Ÿà°¿à°µà± à°µà°¸à±à°¤à±à°µà±à°¤à±‹ (à°ªà±Šà°¡à°¿ à°šà±†à°•à±à°•, à°ªà±à°²à°¾à°¸à±à°Ÿà°¿à°•à±) à°µà°¾à°°à°¿à°¨à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°¨à±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹à°²à±‹ à°‰à°¨à±à°¨à°¾à°°à°¾ à°®à°°à°¿à°¯à± à°¶à±à°µà°¾à°¸ à°¤à±€à°¸à±à°•à±à°‚à°Ÿà±à°¨à±à°¨à°¾à°°à°¾ à°šà±‚à°¡à°‚à°¡à°¿.", "à°¶à±à°µà°¾à°¸ à°²à±‡à°•à°ªà±‹à°¤à±‡ à°µà±†à°‚à°Ÿà°¨à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°¿ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°•à°¾à°²à°¿à°¨ à°—à°¾à°¯à°¾à°²à°¨à± à°šà°²à±à°²à°Ÿà°¿ à°¨à±€à°³à±à°³à°¤à±‹ à°šà°¿à°•à°¿à°¤à±à°¸ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¨à±€à°³à±à°³à± à°²à±‡à°¦à°¾ à°¤à°¿à°‚à°¡à°¿ à°‡à°µà±à°µà°•à°‚à°¡à°¿ â€” à°µà°¾à°°à°¿à°¨à°¿ à°µà±†à°šà±à°šà°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿."]
    },
    {
        id: 9, title: "Heart Attack", title_te: "à°—à±à°‚à°¡à±† à°ªà±‹à°Ÿà±", icon: "ðŸ’”",
        keywords: ["heart attack", "chest pain", "heart", "infarction"],
        steps: ["Make person sit/lie in comfortable position.", "Loosen tight clothing around neck and chest.", "Call 108 immediately â€” do not drive to hospital.", "If conscious and not allergic, give aspirin (300mg) to chew.", "Keep calm â€” reassure help is coming.", "If unconscious and not breathing, start CPR immediately.", "Do NOT give food, water, or other medication."],
        steps_te: ["à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°¸à±Œà°•à°°à±à°¯à°‚à°—à°¾ à°•à±‚à°°à±à°šà±‹à°¬à±†à°Ÿà±à°Ÿà°‚à°¡à°¿ à°²à±‡à°¦à°¾ à°ªà°¡à±à°•à±‹à°¬à±†à°Ÿà±à°Ÿà°‚à°¡à°¿.", "à°®à±†à°¡ à°®à°°à°¿à°¯à± à°›à°¾à°¤à±€ à°šà±à°Ÿà±à°Ÿà±‚ à°¬à°¿à°—à±à°¤à±ˆà°¨ à°¦à±à°¸à±à°¤à±à°²à± à°µà°¦à±à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿ â€” à°¸à±à°µà°¯à°‚à°—à°¾ à°¨à°¡à°µà°•à°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹à°²à±‹ à°‰à°‚à°¡à°¿ à°…à°²à°°à±à°œà±€ à°²à±‡à°•à°ªà±‹à°¤à±‡ à°’à°• à°†à°¸à±à°ªà°¿à°°à°¿à°¨à± (300mg) à°¨à°®à°²à°®à°¨à°¿ à°‡à°µà±à°µà°‚à°¡à°¿.", "à°µà°¾à°°à°¿à°¨à°¿ à°¶à°¾à°‚à°¤à°‚à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿, à°¸à°¹à°¾à°¯à°‚ à°µà°¸à±à°¤à±à°‚à°¦à°¨à°¿ à°šà±†à°ªà±à°ªà°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹ à°¤à°ªà±à°ªà°¿ à°¶à±à°µà°¾à°¸ à°†à°—à°¿à°¤à±‡ à°µà±†à°‚à°Ÿà°¨à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°‚à°¡à°¿.", "à°¤à°¿à°‚à°¡à°¿, à°¨à±€à°³à±à°³à±, à°²à±‡à°¦à°¾ à°‡à°¤à°° à°®à°‚à°¦à±à°²à± à°‡à°µà±à°µà°•à°‚à°¡à°¿."]
    },
    {
        id: 10, title: "Poisoning", title_te: "à°µà°¿à°·à°ªà±à°°à°¯à±‹à°—à°‚", icon: "â˜ ï¸",
        keywords: ["poison", "toxic", "chemical", "ingested", "overdose", "pesticide"],
        steps: ["Identify poison â€” check containers, surroundings, symptoms.", "Call 108 immediately with details of the substance.", "Do NOT induce vomiting unless told by medical personnel.", "Skin/eye contact â€” flush with water for 15â€“20 min.", "Unconscious but breathing â€” recovery position (on side).", "Not breathing â€” start CPR until help arrives.", "Collect poison container to show doctor."],
        steps_te: ["à°µà°¿à°·à°¾à°¨à±à°¨à°¿ à°—à±à°°à±à°¤à°¿à°‚à°šà°‚à°¡à°¿ â€” à°¡à°¬à±à°¬à°¾à°²à±, à°ªà°°à°¿à°¸à°°à°¾à°²à± à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿.", "à°ªà°¦à°¾à°°à±à°¥ à°µà°¿à°µà°°à°¾à°²à°¤à±‹ à°µà±†à°‚à°Ÿà°¨à±‡ 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°µà±ˆà°¦à±à°¯ à°¸à°¿à°¬à±à°¬à°‚à°¦à°¿ à°šà±†à°ªà±à°ªà°¨à°‚à°¤ à°µà°°à°•à± à°µà°¾à°‚à°¤à°¿ à°•à°²à°¿à°—à°¿à°‚à°šà°•à°‚à°¡à°¿.", "à°šà°°à±à°®à°‚à°ªà±ˆ à°²à±‡à°¦à°¾ à°•à°³à±à°³à°²à±‹ à°µà°¿à°·à°‚ à°‰à°‚à°Ÿà±‡ 15â€“20 à°¨à°¿à°®à°¿à°·à°¾à°²à± à°¨à±€à°Ÿà°¿à°¤à±‹ à°•à°¡à°—à°‚à°¡à°¿.", "à°¸à±à°ªà±ƒà°¹ à°²à±‡à°•à±à°‚à°¡à°¾ à°¶à±à°µà°¾à°¸ à°¤à±€à°¸à±à°•à±à°‚à°Ÿà±‡ à°°à°¿à°•à°µà°°à±€ à°ªà±Šà°œà°¿à°·à°¨à±â€Œà°²à±‹ à°‰à°‚à°šà°‚à°¡à°¿.", "à°¶à±à°µà°¾à°¸ à°†à°—à°¿à°¤à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°¿ à°¸à°¹à°¾à°¯à°‚ à°µà°šà±à°šà±‡à°µà°°à°•à± à°•à±Šà°¨à°¸à°¾à°—à°¿à°‚à°šà°‚à°¡à°¿.", "à°¡à°¾à°•à±à°Ÿà°°à±â€Œà°•à± à°šà±‚à°ªà°¿à°‚à°šà°¡à°¾à°¨à°¿à°•à°¿ à°µà°¿à°· à°¡à°¬à±à°¬à°¾ à°¸à±‡à°•à°°à°¿à°‚à°šà°‚à°¡à°¿."]
    }
];

const DISASTERS_DATA = [
    {
        id: 1, type: "Earthquake", type_te: "à°­à±‚à°•à°‚à°ªà°‚", icon: "ðŸšï¸", color: "#e67e22",
        before: ["Secure heavy furniture to walls. Store 72-hour emergency kit.", "Identify safe spots: under sturdy tables, interior walls.", "Know how to shut off gas, water, and electricity.", "Practice Drop, Cover, Hold On drills with family."],
        before_te: ["à°­à°¾à°°à±€ à°«à°°à±à°¨à°¿à°šà°°à±â€Œà°¨à± à°—à±‹à°¡à°²à°•à± à°¬à°¿à°—à°¿à°‚à°šà°‚à°¡à°¿. 72 à°—à°‚à°Ÿà°² à°…à°¤à±à°¯à°µà°¸à°° à°•à°¿à°Ÿà± à°¨à°¿à°²à±à°µ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¸à±à°°à°•à±à°·à°¿à°¤ à°¸à±à°¥à°¾à°¨à°¾à°²à± à°—à±à°°à±à°¤à°¿à°‚à°šà°‚à°¡à°¿: à°¬à°²à°®à±ˆà°¨ à°¬à°²à±à°²à°² à°•à°¿à°‚à°¦, à°…à°‚à°¤à°°à±à°—à°¤ à°—à±‹à°¡à°² à°¦à°—à±à°—à°°.", "à°—à±à°¯à°¾à°¸à±, à°¨à±€à°³à±à°³à±, à°µà°¿à°¦à±à°¯à±à°¤à± à°Žà°²à°¾ à°†à°ªà°¾à°²à±‹ à°¤à±†à°²à±à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°•à±à°Ÿà±à°‚à°¬à°‚à°¤à±‹ 'à°•à±‚à°²à°¿à°ªà±‹, à°•à°ªà±à°ªà±à°•à±‹, à°ªà°Ÿà±à°Ÿà±à°•à±‹' à°…à°­à±à°¯à°¾à°¸à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿."],
        during: ["DROP â€” drop to hands and knees immediately.", "COVER â€” under sturdy desk or against interior wall.", "HOLD ON â€” protect head and neck with arms.", "Stay away from windows and exterior walls.", "Outdoors â€” move away from buildings and power lines.", "Driving â€” pull over away from overpasses."],
        during_te: ["à°µà±†à°‚à°Ÿà°¨à±‡ à°šà±‡à°¤à±à°²à± à°®à°°à°¿à°¯à± à°®à±‹à°•à°¾à°³à±à°³à°ªà±ˆ à°ªà°¡à°‚à°¡à°¿.", "à°¬à°²à°®à±ˆà°¨ à°¬à°²à±à°² à°•à°¿à°‚à°¦ à°²à±‡à°¦à°¾ à°…à°‚à°¤à°°à±à°—à°¤ à°—à±‹à°¡ à°¦à°—à±à°—à°° à°•à°ªà±à°ªà±à°•à±‹à°‚à°¡à°¿.", "à°ªà°Ÿà±à°Ÿà±à°•à±‹à°‚à°¡à°¿ â€” à°šà±‡à°¤à±à°²à°¤à±‹ à°¤à°² à°®à°°à°¿à°¯à± à°®à±†à°¡à°¨à± à°°à°•à±à°·à°¿à°‚à°šà±à°•à±‹à°‚à°¡à°¿.", "à°•à°¿à°Ÿà°¿à°•à±€à°²à± à°®à°°à°¿à°¯à± à°¬à°¯à°Ÿà°¿ à°—à±‹à°¡à°² à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿.", "à°¬à°¯à°Ÿ à°‰à°‚à°Ÿà±‡ à°­à°µà°¨à°¾à°²à±, à°®à°°à°¿à°¯à± à°µà°¿à°¦à±à°¯à±à°¤à± à°²à±ˆà°¨à±à°² à°¨à±à°‚à°¡à°¿ à°¦à±‚à°°à°‚à°—à°¾ à°µà±†à°³à±à°³à°‚à°¡à°¿.", "à°¡à±à°°à±ˆà°µà± à°šà±‡à°¸à±à°¤à±à°‚à°Ÿà±‡ à°¦à±‚à°°à°‚à°—à°¾ à°†à°ªà°‚à°¡à°¿."],
        after: ["Expect aftershocks â€” do NOT re-enter damaged buildings.", "Check for injuries â€” apply first aid as needed.", "Smell for gas leaks; if detected open windows and evacuate.", "Check structural damage before re-entering any building.", "Listen to emergency broadcasts on battery radio.", "Document damage with photos for insurance."],
        after_te: ["à°…à°¨à°‚à°¤à°° à°•à°‚à°ªà°¾à°²à± à°°à°¾à°µà°šà±à°šà± â€” à°¦à±†à°¬à±à°¬à°¤à°¿à°¨à±à°¨ à°­à°µà°¨à°¾à°²à±à°²à±‹à°•à°¿ à°µà±†à°³à±à°³à°•à°‚à°¡à°¿.", "à°—à°¾à°¯à°¾à°² à°•à±‹à°¸à°‚ à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿ â€” à°…à°µà°¸à°°à°®à±ˆà°¤à±‡ à°ªà±à°°à°¥à°® à°šà°¿à°•à°¿à°¤à±à°¸ à°šà±‡à°¯à°‚à°¡à°¿.", "à°—à±à°¯à°¾à°¸à± à°²à±€à°•à±‡à°œà± à°µà°¾à°¸à°¨ à°šà±‚à°¡à°‚à°¡à°¿; à°•à°¨à°¿à°ªà°¿à°¸à±à°¤à±‡ à°•à°¿à°Ÿà°¿à°•à±€à°²à± à°¤à±†à°°à°¿à°šà°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿.", "à° à°­à°µà°¨à°‚à°²à±‹à°¨à±ˆà°¨à°¾ à°ªà±à°°à°µà±‡à°¶à°¿à°‚à°šà±‡ à°®à±à°‚à°¦à± à°¨à°¿à°°à±à°®à°¾à°£ à°¨à°·à±à°Ÿà°‚ à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¬à±à°¯à°¾à°Ÿà°°à±€ à°°à±‡à°¡à°¿à°¯à±‹à°²à±‹ à°…à°¤à±à°¯à°µà°¸à°° à°ªà±à°°à°¸à°¾à°°à°¾à°²à± à°µà°¿à°¨à°‚à°¡à°¿.", "à°¬à±€à°®à°¾ à°•à±‹à°¸à°‚ à°«à±‹à°Ÿà±‹à°²à°¤à±‹ à°¨à°·à±à°Ÿà°¾à°¨à±à°¨à°¿ à°¡à°¾à°•à±à°¯à±à°®à±†à°‚à°Ÿà± à°šà±‡à°¯à°‚à°¡à°¿."]
    },
    {
        id: 2, type: "Flood", type_te: "à°µà°°à°¦", icon: "ðŸŒŠ", color: "#2980b9",
        before: ["Move valuables and documents to upper floors.", "Fill sandbags to block doorways.", "Turn off electricity, gas, and water at main switches.", "Know evacuation route and nearest flood shelter."],
        before_te: ["à°µà°¿à°²à±à°µà±ˆà°¨ à°µà°¸à±à°¤à±à°µà±à°²à± à°®à°°à°¿à°¯à± à°ªà°¤à±à°°à°¾à°²à°¨à± à°ªà±ˆ à°…à°‚à°¤à°¸à±à°¤à±à°²à°•à± à°¤à°°à°²à°¿à°‚à°šà°‚à°¡à°¿.", "à°¤à°²à±à°ªà±à°²à°¨à± à°®à±‚à°¸à±‡à°‚à°¦à±à°•à± à°‡à°¸à±à°• à°¸à°‚à°šà±à°²à± à°¨à°¿à°‚à°ªà°‚à°¡à°¿.", "à°®à±†à°¯à°¿à°¨à± à°¸à±à°µà°¿à°šà±â€Œà°² à°µà°¦à±à°¦ à°µà°¿à°¦à±à°¯à±à°¤à±, à°—à±à°¯à°¾à°¸à±, à°¨à±€à°³à±à°³à± à°†à°ªà°‚à°¡à°¿.", "à°®à±€ à°–à°¾à°³à±€ à°®à°¾à°°à±à°—à°‚ à°®à°°à°¿à°¯à± à°¸à°®à±€à°ª à°µà°°à°¦ à°†à°¶à±à°°à°¯à°¾à°¨à±à°¨à°¿ à°¤à±†à°²à±à°¸à±à°•à±‹à°‚à°¡à°¿."],
        during: ["Move to higher ground immediately â€” do NOT wait.", "Never walk, swim, or drive through flood water.", "Avoid contact with flood water â€” may be contaminated.", "If trapped, go to highest floor and signal for help.", "Do NOT use electrical appliances if water entered home.", "Call 108 or NDRF 1078 if you need rescue."],
        during_te: ["à°µà±†à°‚à°Ÿà°¨à±‡ à°Žà°¤à±à°¤à±ˆà°¨ à°¸à±à°¥à°²à°¾à°¨à°¿à°•à°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿ â€” à°µà±‡à°šà°¿ à°‰à°‚à°¡à°•à°‚à°¡à°¿.", "à°µà°°à°¦ à°¨à±€à°Ÿà°¿à°²à±‹ à°¨à°¡à°µà°•à°‚à°¡à°¿, à°ˆà°¦à°•à°‚à°¡à°¿, à°²à±‡à°¦à°¾ à°¨à°¡à°ªà°•à°‚à°¡à°¿.", "à°µà°°à°¦ à°¨à±€à°Ÿà°¿ à°¸à°‚à°ªà°°à±à°•à°¾à°¨à±à°¨à°¿ à°¨à°¿à°µà°¾à°°à°¿à°‚à°šà°‚à°¡à°¿ â€” à°•à°²à±à°·à°¿à°¤à°‚ à°•à°¾à°µà°šà±à°šà±.", "à°‡à°‚à°Ÿà±à°²à±‹ à°šà°¿à°•à±à°•à±à°•à±à°ªà±‹à°¤à±‡ à°ªà±ˆà°•à°¿ à°µà±†à°³à±à°³à°¿ à°¸à°¹à°¾à°¯à°‚ à°•à±‹à°¸à°‚ à°¸à°‚à°•à±‡à°¤à°‚ à°‡à°µà±à°µà°‚à°¡à°¿.", "à°‡à°‚à°Ÿà±à°²à±‹ à°¨à±€à°³à±à°³à± à°µà°¸à±à°¤à±‡ à°µà°¿à°¦à±à°¯à±à°¤à± à°ªà°°à°¿à°•à°°à°¾à°²à± à°µà°¾à°¡à°•à°‚à°¡à°¿.", "à°°à±†à°¸à±à°•à±à°¯à±‚ à°…à°µà°¸à°°à°®à±ˆà°¤à±‡ 108 à°²à±‡à°¦à°¾ NDRF 1078 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿."],
        after: ["Return home only when authorities declare it safe.", "Do NOT use tap water until confirmed safe.", "Check structural damage before entering home.", "Clean and disinfect everything touched by flood water.", "Watch for mold growth â€” remove immediately.", "Get medical check-up â€” flood water causes disease."],
        after_te: ["à°…à°§à°¿à°•à°¾à°°à±à°²à± à°¸à±à°°à°•à±à°·à°¿à°¤à°®à°¨à°¿ à°ªà±à°°à°•à°Ÿà°¿à°‚à°šà°¿à°¨ à°¤à°°à±à°µà°¾à°¤ à°®à°¾à°¤à±à°°à°®à±‡ à°‡à°‚à°Ÿà°¿à°•à°¿ à°¤à°¿à°°à°¿à°—à°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿.", "à°¸à±à°°à°•à±à°·à°¿à°¤à°®à°¨à°¿ à°¨à°¿à°°à±à°§à°¾à°°à°¿à°‚à°šà±‡ à°µà°°à°•à± à°¨à°²à±à°²à°¾ à°¨à±€à°³à±à°³à± à°µà°¾à°¡à°•à°‚à°¡à°¿.", "à°‡à°‚à°Ÿà±à°²à±‹à°•à°¿ à°°à°¾à°®à±à°‚à°¦à± à°¨à°¿à°°à±à°®à°¾à°£ à°¨à°·à±à°Ÿà°‚ à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿.", "à°µà°°à°¦ à°¨à±€à°Ÿà°¿à°¤à±‹ à°¸à°‚à°ªà°°à±à°•à°‚à°²à±‹ à°µà°šà±à°šà°¿à°¨ à°…à°¨à±à°¨à°¿à°‚à°Ÿà°¿à°¨à±€ à°¶à±à°­à±à°°à°‚ à°šà±‡à°¯à°‚à°¡à°¿.", "à°…à°šà±à°šà± à°ªà±†à°°à±à°—à±à°¦à°² à°¸à°‚à°•à±‡à°¤à°¾à°²à± à°šà±‚à°¡à°‚à°¡à°¿ à°®à°°à°¿à°¯à± à°µà±†à°‚à°Ÿà°¨à±‡ à°¤à±Šà°²à°—à°¿à°‚à°šà°‚à°¡à°¿.", "à°µà±ˆà°¦à±à°¯ à°ªà°°à±€à°•à±à°· à°šà±‡à°¯à°¿à°‚à°šà±à°•à±‹à°‚à°¡à°¿ â€” à°µà°°à°¦ à°¨à±€à°³à±à°³à± à°…à°¨à±‡à°• à°µà±à°¯à°¾à°§à±à°²à± à°•à°²à°¿à°—à°¿à°¸à±à°¤à°¾à°¯à°¿."]
    },
    {
        id: 3, type: "Fire", type_te: "à°…à°—à±à°¨à°¿", icon: "ðŸ”¥", color: "#e74c3c",
        before: ["Install smoke detectors on every floor â€” test monthly.", "Create family escape plan with 2 exits per room.", "Keep fire extinguisher accessible â€” learn PASS method.", "Never leave cooking or candles unattended."],
        before_te: ["à°ªà±à°°à°¤à°¿ à°…à°‚à°¤à°¸à±à°¤à±à°²à±‹ à°ªà±Šà°— à°¡à°¿à°Ÿà±†à°•à±à°Ÿà°°à±à°²à± à°…à°®à°°à±à°šà°‚à°¡à°¿ â€” à°¨à±†à°²à°•à±‹à°¸à°¾à°°à°¿ à°ªà°°à±€à°•à±à°·à°¿à°‚à°šà°‚à°¡à°¿.", "à°ªà±à°°à°¤à°¿ à°—à°¦à°¿ à°¨à±à°‚à°¡à°¿ à°°à±†à°‚à°¡à± à°¨à°¿à°·à±à°•à±à°°à°®à°£à°²à°¤à±‹ à°•à±à°Ÿà±à°‚à°¬ à°ªà°¥à°•à°‚ à°°à±‚à°ªà±Šà°‚à°¦à°¿à°‚à°šà°‚à°¡à°¿.", "à°…à°—à±à°¨à°¿à°®à°¾à°ªà°• à°¯à°‚à°¤à±à°°à°¾à°¨à±à°¨à°¿ à°…à°‚à°¦à±à°¬à°¾à°Ÿà±à°²à±‹ à°‰à°‚à°šà°‚à°¡à°¿ â€” PASS à°ªà°¦à±à°§à°¤à°¿ à°¤à±†à°²à±à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°µà°‚à°Ÿ à°²à±‡à°¦à°¾ à°•à±Šà°µà±à°µà±Šà°¤à±à°¤à±à°²à°¨à± à°’à°‚à°Ÿà°°à°¿à°—à°¾ à°µà°¦à°¿à°²à°¿à°ªà±†à°Ÿà±à°Ÿà°•à°‚à°¡à°¿."],
        during: ["Alert everyone â€” shout FIRE and activate nearest alarm.", "Call 101 (Fire Brigade) immediately.", "Crawl low under smoke â€” toxic gases rise to ceiling.", "Before opening a door, feel it â€” if hot do NOT open.", "Close doors behind you â€” it slows fire spread.", "Do NOT use elevators â€” use stairs only.", "Once outside, stay outside â€” NEVER go back in."],
        during_te: ["à°…à°‚à°¦à°°à°¿à°•à±€ à°¹à±†à°šà±à°šà°°à°¿à°‚à°šà°‚à°¡à°¿ â€” 'à°®à°‚à°Ÿ!' à°…à°¨à°¿ à°…à°°à°µà°‚à°¡à°¿ à°®à°°à°¿à°¯à± à°¸à°®à±€à°ª à°¹à±†à°šà±à°šà°°à°¿à°•à°¨à± à°¸à°•à±à°°à°¿à°¯à°‚ à°šà±‡à°¯à°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ 101 (à°…à°—à±à°¨à°¿à°®à°¾à°ªà°• à°µà°¿à°­à°¾à°—à°‚) à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°ªà±Šà°— à°•à°¿à°‚à°¦ à°ªà±à°°à°¾à°•à°¨à°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿ â€” à°µà°¿à°·à°ªà±‚à°°à°¿à°¤ à°µà°¾à°¯à±à°µà±à°²à± à°ªà±ˆà°•à°¿ à°µà±†à°³à±à°¤à°¾à°¯à°¿.", "à°¤à°²à±à°ªà± à°¤à±†à°°à°µà°¡à°‚ à°®à±à°‚à°¦à± à°…à°¨à±à°­à°µà°¿à°‚à°šà°‚à°¡à°¿ â€” à°µà±‡à°¡à°¿à°—à°¾ à°‰à°‚à°Ÿà±‡ à°¤à±†à°°à°µà°•à°‚à°¡à°¿.", "à°¤à°ªà±à°ªà°¿à°‚à°šà±à°•à±à°‚à°Ÿà±‚ à°¤à°²à±à°ªà±à°²à± à°®à±‚à°¯à°‚à°¡à°¿ â€” à°®à°‚à°Ÿ à°µà±à°¯à°¾à°ªà±à°¤à°¿à°¨à°¿ à°¨à±†à°®à±à°®à°¦à°¿à°¸à±à°¤à±à°‚à°¦à°¿.", "à°²à°¿à°«à±à°Ÿà±â€Œà°²à± à°µà°¾à°¡à°•à°‚à°¡à°¿ â€” à°®à±†à°Ÿà±à°²à± à°®à°¾à°¤à±à°°à°®à±‡ à°µà°¾à°¡à°‚à°¡à°¿.", "à°¬à°¯à°Ÿà°¿à°•à°¿ à°µà°šà±à°šà°¿à°¨ à°¤à°°à±à°µà°¾à°¤ à°¬à°¯à°Ÿà±‡ à°‰à°‚à°¡à°‚à°¡à°¿ â€” à°¤à°¿à°°à°¿à°—à°¿ à°µà±†à°³à±à°³à°•à°‚à°¡à°¿."],
        after: ["Do NOT re-enter fire-damaged building â€” may collapse.", "Seek medical attention for smoke or burns.", "Contact municipality, insurance, and family.", "Document damage for insurance claims.", "Contact Red Cross or NDRF for shelter assistance."],
        after_te: ["à°…à°—à±à°¨à°¿à°ªà±à°°à°®à°¾à°¦à°¾à°¨à°¿à°•à°¿ à°—à±à°°à±ˆà°¨ à°­à°µà°¨à°‚à°²à±‹à°•à°¿ à°¤à°¿à°°à°¿à°—à°¿ à°µà±†à°³à±à°³à°•à°‚à°¡à°¿ â€” à°•à±‚à°²à°¿à°ªà±‹à°µà°šà±à°šà±.", "à°ªà±Šà°— à°ªà±€à°²à±à°šà°¡à°‚ à°²à±‡à°¦à°¾ à°•à°¾à°²à°¿à°¨ à°—à°¾à°¯à°¾à°²à°•à± à°µà±ˆà°¦à±à°¯ à°¸à°¹à°¾à°¯à°‚ à°¤à±€à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°¸à±à°¥à°¾à°¨à°¿à°• à°®à±à°¨à±à°¸à°¿à°ªà°¾à°²à°¿à°Ÿà±€, à°¬à±€à°®à°¾, à°®à°°à°¿à°¯à± à°•à±à°Ÿà±à°‚à°¬à°¾à°¨à±à°¨à°¿ à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿.", "à°¬à±€à°®à°¾ à°¦à°¾à°µà°¾à°² à°•à±‹à°¸à°‚ à°¨à°·à±à°Ÿà°¾à°¨à±à°¨à°¿ à°¡à°¾à°•à±à°¯à±à°®à±†à°‚à°Ÿà± à°šà±‡à°¯à°‚à°¡à°¿.", "à°†à°¶à±à°°à°¯à°‚ à°•à±‹à°¸à°‚ à°°à±†à°¡à± à°•à±à°°à°¾à°¸à± à°²à±‡à°¦à°¾ NDRF à°¸à°‚à°ªà±à°°à°¦à°¿à°‚à°šà°‚à°¡à°¿."]
    },
    {
        id: 4, type: "Road Accident", type_te: "à°°à±‹à°¡à±à°¡à± à°ªà±à°°à°®à°¾à°¦à°‚", icon: "ðŸš—", color: "#8e44ad",
        before: ["Always wear a seatbelt.", "Never text or use phone while driving.", "Obey speed limits, especially in bad weather.", "Keep a first aid kit and torch in your vehicle."],
        before_te: ["à°Žà°²à±à°²à°ªà±à°ªà±à°¡à±‚ à°¸à±€à°Ÿà±â€Œà°¬à±†à°²à±à°Ÿà± à°ªà±†à°Ÿà±à°Ÿà±à°•à±‹à°‚à°¡à°¿.", "à°¡à±à°°à±ˆà°µà°¿à°‚à°—à± à°šà±‡à°¸à±à°¤à±à°¨à±à°¨à°ªà±à°ªà±à°¡à± à°«à±‹à°¨à± à°µà°¾à°¡à°•à°‚à°¡à°¿.", "à°µà±‡à°— à°ªà°°à°¿à°®à°¿à°¤à±à°²à± à°ªà°¾à°Ÿà°¿à°‚à°šà°‚à°¡à°¿.", "à°®à±€ à°µà°¾à°¹à°¨à°‚à°²à±‹ à°«à°¸à±à°Ÿà± à°Žà°¯à°¿à°¡à± à°•à°¿à°Ÿà± à°®à°°à°¿à°¯à± à°Ÿà°¾à°°à±à°šà± à°‰à°‚à°šà°‚à°¡à°¿."],
        during: ["Stop vehicle safely â€” turn on hazard lights.", "Call 108 (Ambulance) and 100 (Police) immediately.", "Do NOT move injured unless immediate danger exists.", "Check breathing and pulse â€” start CPR if needed.", "Control severe bleeding with firm direct pressure.", "Keep injured person warm and calm."],
        during_te: ["à°®à±€ à°µà°¾à°¹à°¨à°¾à°¨à±à°¨à°¿ à°¸à±à°°à°•à±à°·à°¿à°¤à°‚à°—à°¾ à°†à°ªà°‚à°¡à°¿ â€” à°¹à±†à°œà°¾à°°à±à°¡à± à°²à±ˆà°Ÿà±à°²à± à°µà±‡à°¯à°‚à°¡à°¿.", "à°µà±†à°‚à°Ÿà°¨à±‡ 108 (à°…à°‚à°¬à±à°²à±†à°¨à±à°¸à±) à°®à°°à°¿à°¯à± 100 (à°ªà±‹à°²à±€à°¸à±) à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿.", "à°¤à°•à±à°·à°£ à°ªà±à°°à°®à°¾à°¦à°‚ à°²à±‡à°•à°ªà±‹à°¤à±‡ à°—à°¾à°¯à°ªà°¡à±à°¡ à°µà±à°¯à°•à±à°¤à±à°²à°¨à± à°•à°¦à°¿à°²à°¿à°‚à°šà°•à°‚à°¡à°¿.", "à°¶à±à°µà°¾à°¸ à°®à°°à°¿à°¯à± à°¨à°¾à°¡à°¿ à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿ â€” à°…à°µà°¸à°°à°®à±ˆà°¤à±‡ CPR à°ªà±à°°à°¾à°°à°‚à°­à°¿à°‚à°šà°‚à°¡à°¿.", "à°¨à±‡à°°à±à°—à°¾ à°—à°Ÿà±à°Ÿà°¿ à°¨à±Šà°•à±à°•à±à°¡à±à°¤à±‹ à°¤à±€à°µà±à°°à°®à±ˆà°¨ à°°à°•à±à°¤à°¸à±à°°à°¾à°µà°¾à°¨à±à°¨à°¿ à°¨à°¿à°¯à°‚à°¤à±à°°à°¿à°‚à°šà°‚à°¡à°¿.", "à°—à°¾à°¯à°ªà°¡à±à°¡ à°µà±à°¯à°•à±à°¤à°¿à°¨à°¿ à°µà±†à°šà±à°šà°—à°¾ à°®à°°à°¿à°¯à± à°¶à°¾à°‚à°¤à°‚à°—à°¾ à°‰à°‚à°šà°‚à°¡à°¿."],
        after: ["Cooperate fully with police and medical teams.", "Collect vehicle numbers, witness contacts, photos.", "Seek medical evaluation even if you feel fine.", "File police report (FIR) and inform insurance.", "Monitor for delayed symptoms in following hours."],
        after_te: ["à°ªà±‹à°²à±€à°¸à±à°²à± à°®à°°à°¿à°¯à± à°µà±ˆà°¦à±à°¯ à°¬à±ƒà°‚à°¦à°¾à°²à°¤à±‹ à°ªà±‚à°°à±à°¤à°¿à°—à°¾ à°¸à°¹à°•à°°à°¿à°‚à°šà°‚à°¡à°¿.", "à°µà°¾à°¹à°¨ à°¨à°‚à°¬à°°à±à°²à±, à°¸à°¾à°•à±à°·à±à°² à°ªà°°à°¿à°šà°¯à°¾à°²à±, à°«à±‹à°Ÿà±‹à°²à± à°¸à±‡à°•à°°à°¿à°‚à°šà°‚à°¡à°¿.", "à°¬à°¾à°—à±à°¨à±à°¨à°Ÿà±à°²à± à°…à°¨à°¿à°ªà°¿à°‚à°šà°¿à°¨à°¾ à°µà±ˆà°¦à±à°¯ à°®à±‚à°²à±à°¯à°¾à°‚à°•à°¨à°‚ à°¤à±€à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°ªà±‹à°²à±€à°¸à± à°°à°¿à°ªà±‹à°°à±à°Ÿà± (FIR) à°¨à°®à±‹à°¦à± à°šà±‡à°¸à°¿ à°®à±€ à°¬à±€à°®à°¾à°¨à± à°¤à±†à°²à°¿à°¯à°œà±‡à°¯à°‚à°¡à°¿.", "à°¤à°°à±à°µà°¾à°¤ à°—à°‚à°Ÿà°²à±à°²à±‹ à°†à°²à°¸à±à°¯ à°²à°•à±à°·à°£à°¾à°²à± à°ªà°°à±à°¯à°µà±‡à°•à±à°·à°¿à°‚à°šà°‚à°¡à°¿."]
    },
    {
        id: 5, type: "Cyclone", type_te: "à°¤à±à°«à°¾à°¨à±", icon: "ðŸŒ€", color: "#16a085",
        before: ["Follow cyclone warnings from IMD and local authorities.", "Reinforce doors, windows, and roof.", "Stock 3 days of water, food, medicines, and candles.", "Identify nearest cyclone shelter and evacuation route."],
        before_te: ["IMD à°®à°°à°¿à°¯à± à°¸à±à°¥à°¾à°¨à°¿à°• à°…à°§à°¿à°•à°¾à°°à±à°² à°¤à±à°«à°¾à°¨à± à°¹à±†à°šà±à°šà°°à°¿à°•à°²à± à°ªà°¾à°Ÿà°¿à°‚à°šà°‚à°¡à°¿.", "à°¤à°²à±à°ªà±à°²à±, à°•à°¿à°Ÿà°¿à°•à±€à°²à±, à°®à°°à°¿à°¯à± à°ªà±ˆà°•à°ªà±à°ªà±à°¨à± à°¬à°²à±‹à°ªà±‡à°¤à°‚ à°šà±‡à°¯à°‚à°¡à°¿.", "3 à°°à±‹à°œà±à°² à°¨à±€à°³à±à°³à±, à°†à°¹à°¾à°°à°‚, à°®à°‚à°¦à±à°²à±, à°®à°°à°¿à°¯à± à°•à±Šà°µà±à°µà±Šà°¤à±à°¤à±à°²à± à°¨à°¿à°²à±à°µ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¸à°®à±€à°ª à°¤à±à°«à°¾à°¨à± à°†à°¶à±à°°à°¯à°‚ à°®à°°à°¿à°¯à± à°–à°¾à°³à±€ à°®à°¾à°°à±à°—à°‚ à°—à±à°°à±à°¤à°¿à°‚à°šà°‚à°¡à°¿."],
        during: ["Stay indoors â€” away from windows and glass doors.", "Take shelter in most reinforced room.", "Keep battery radio on for emergency updates.", "Do NOT go outside during the eye of the cyclone.", "If home is unsafe, evacuate to nearest shelter.", "Disconnect electrical appliances."],
        during_te: ["à°²à±‹à°ªà°² à°‰à°‚à°¡à°‚à°¡à°¿ â€” à°•à°¿à°Ÿà°¿à°•à±€à°²à± à°®à°°à°¿à°¯à± à°—à°¾à°œà± à°¤à°²à±à°ªà±à°²à°•à± à°¦à±‚à°°à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿.", "à°®à±€ à°‡à°‚à°Ÿà°¿à°²à±‹ à°…à°¤à±à°¯à°‚à°¤ à°¬à°²à°®à±ˆà°¨ à°—à°¦à°¿à°²à±‹ à°†à°¶à±à°°à°¯à°‚ à°¤à±€à°¸à±à°•à±‹à°‚à°¡à°¿.", "à°…à°¤à±à°¯à°µà°¸à°° à°¨à°µà±€à°•à°°à°£à°² à°•à±‹à°¸à°‚ à°¬à±à°¯à°¾à°Ÿà°°à±€ à°°à±‡à°¡à°¿à°¯à±‹ à°µà°¿à°¨à°‚à°¡à°¿.", "à°¤à±à°«à°¾à°¨à± à°•à°‚à°Ÿà°¿ à°¸à°®à°¯à°‚à°²à±‹ à°¬à°¯à°Ÿà°¿à°•à°¿ à°µà±†à°³à±à°³à°•à°‚à°¡à°¿.", "à°®à±€ à°‡à°²à±à°²à± à°…à°¸à±à°°à°•à±à°·à°¿à°¤à°‚à°—à°¾ à°‰à°‚à°Ÿà±‡ à°¸à°®à±€à°ª à°†à°¶à±à°°à°¯à°¾à°¨à°¿à°•à°¿ à°µà±†à°³à±à°³à°‚à°¡à°¿.", "à°µà°¿à°¦à±à°¯à±à°¤à± à°ªà°°à°¿à°•à°°à°¾à°²à± à°¡à°¿à°¸à±â€Œà°•à°¨à±†à°•à±à°Ÿà± à°šà±‡à°¯à°‚à°¡à°¿."],
        after: ["Wait for official all-clear before going outside.", "Avoid downed power lines â€” treat all as live.", "Check structural damage before re-entering home.", "Drink only bottled or boiled water.", "Document damage and report to disaster management.", "Watch for flooding that may follow cyclone."],
        after_te: ["à°¬à°¯à°Ÿà°¿à°•à°¿ à°µà±†à°³à±à°³à±‡ à°®à±à°‚à°¦à± à°…à°§à°¿à°•à°¾à°°à°¿à°• à°¸à°°à±à°µ-à°¬à°¹à°¿à°°à±à°—à°¤ à°•à±‹à°¸à°‚ à°µà±‡à°šà°¿ à°‰à°‚à°¡à°‚à°¡à°¿.", "à°ªà°¡à°¿à°ªà±‹à°¯à°¿à°¨ à°µà°¿à°¦à±à°¯à±à°¤à± à°²à±ˆà°¨à±à°²à°¨à± à°¨à°¿à°µà°¾à°°à°¿à°‚à°šà°‚à°¡à°¿.", "à°¤à°¿à°°à°¿à°—à°¿ à°ªà±à°°à°µà±‡à°¶à°¿à°‚à°šà±‡ à°®à±à°‚à°¦à± à°®à±€ à°‡à°‚à°Ÿà°¿ à°¨à°¿à°°à±à°®à°¾à°£ à°¨à°·à±à°Ÿà°‚ à°¤à°¨à°¿à°–à±€ à°šà±‡à°¯à°‚à°¡à°¿.", "à°¸à±€à°¸à°¾ à°¨à±€à°³à±à°³à± à°²à±‡à°¦à°¾ à°®à°°à°¿à°—à°¿à°‚à°šà°¿à°¨ à°¨à±€à°³à±à°³à± à°®à°¾à°¤à±à°°à°®à±‡ à°¤à±à°°à°¾à°—à°‚à°¡à°¿.", "à°¨à°·à±à°Ÿà°¾à°¨à±à°¨à°¿ à°¡à°¾à°•à±à°¯à±à°®à±†à°‚à°Ÿà± à°šà±‡à°¸à°¿ à°¸à±à°¥à°¾à°¨à°¿à°• à°µà°¿à°ªà°¤à±à°¤à± à°¨à°¿à°°à±à°µà°¹à°£à°•à± à°¨à°¿à°µà±‡à°¦à°¿à°‚à°šà°‚à°¡à°¿.", "à°¤à±à°«à°¾à°¨à± à°¤à°°à±à°µà°¾à°¤ à°µà°°à°¦à°²à± à°°à°¾à°µà°šà±à°šà± â€” à°…à°ªà±à°°à°®à°¤à±à°¤à°‚à°—à°¾ à°‰à°‚à°¡à°‚à°¡à°¿."]
    }
];

const CONTACTS_DATA = [
    { id: 1, name: "Police", name_te: "à°ªà±‹à°²à±€à°¸à±", number: "100", icon: "ðŸ‘®", description: "Law enforcement & emergency response", description_te: "à°šà°Ÿà±à°Ÿ à°…à°®à°²à± à°®à°°à°¿à°¯à± à°…à°¤à±à°¯à°µà°¸à°° à°¸à±à°ªà°‚à°¦à°¨", color: "#2980b9" },
    { id: 2, name: "Ambulance", name_te: "à°…à°‚à°¬à±à°²à±†à°¨à±à°¸à±", number: "108", icon: "ðŸš‘", description: "Medical emergency & injury response", description_te: "à°µà±ˆà°¦à±à°¯ à°…à°¤à±à°¯à°µà°¸à°° à°®à°°à°¿à°¯à± à°—à°¾à°¯à°¾à°² à°¸à±à°ªà°‚à°¦à°¨", color: "#e74c3c" },
    { id: 3, name: "Fire Brigade", name_te: "à°…à°—à±à°¨à°¿à°®à°¾à°ªà°• à°µà°¿à°­à°¾à°—à°‚", number: "101", icon: "ðŸš’", description: "Fire emergencies & rescue operations", description_te: "à°…à°—à±à°¨à°¿ à°…à°¤à±à°¯à°µà°¸à°° à°®à°°à°¿à°¯à± à°°à°•à±à°·à°£ à°•à°¾à°°à±à°¯à°•à°²à°¾à°ªà°¾à°²à±", color: "#e67e22" },
    { id: 4, name: "NDRF Helpline", name_te: "NDRF à°¹à±†à°²à±à°ªà±â€Œà°²à±ˆà°¨à±", number: "1078", icon: "ðŸ›¡ï¸", description: "National Disaster Response Force", description_te: "à°œà°¾à°¤à±€à°¯ à°µà°¿à°ªà°¤à±à°¤à± à°¸à±à°ªà°‚à°¦à°¨ à°¦à°³à°‚", color: "#27ae60" },
    { id: 5, name: "Disaster Mgmt", name_te: "à°µà°¿à°ªà°¤à±à°¤à± à°¨à°¿à°°à±à°µà°¹à°£", number: "1070", icon: "ðŸ›ï¸", description: "State disaster management helpline", description_te: "à°°à°¾à°·à±à°Ÿà±à°° à°µà°¿à°ªà°¤à±à°¤à± à°¨à°¿à°°à±à°µà°¹à°£ à°¹à±†à°²à±à°ªà±â€Œà°²à±ˆà°¨à±", color: "#8e44ad" },
    { id: 6, name: "Women Helpline", name_te: "à°®à°¹à°¿à°³à°¾ à°¹à±†à°²à±à°ªà±â€Œà°²à±ˆà°¨à±", number: "1091", icon: "ðŸ‘©", description: "Women in distress & emergency support", description_te: "à°¸à°‚à°•à°Ÿà°‚à°²à±‹ à°®à°¹à°¿à°³à°²à± à°®à°°à°¿à°¯à± à°…à°¤à±à°¯à°µà°¸à°° à°®à°¦à±à°¦à°¤à±", color: "#e91e8c" },
    { id: 7, name: "Child Helpline", name_te: "à°¬à°¾à°²à°² à°¹à±†à°²à±à°ªà±â€Œà°²à±ˆà°¨à±", number: "1098", icon: "ðŸ‘¶", description: "Child emergency & abuse support", description_te: "à°ªà°¿à°²à±à°²à°² à°…à°¤à±à°¯à°µà°¸à°° à°®à°°à°¿à°¯à± à°¦à±à°°à±à°µà°¿à°¨à°¿à°¯à±‹à°— à°®à°¦à±à°¦à°¤à±", color: "#f39c12" },
    { id: 8, name: "Coast Guard", name_te: "à°•à±‹à°¸à±à°Ÿà± à°—à°¾à°°à±à°¡à±", number: "1554", icon: "âš“", description: "Maritime emergency & sea rescue", description_te: "à°¸à°®à±à°¦à±à°° à°…à°¤à±à°¯à°µà°¸à°° à°®à°°à°¿à°¯à± à°¸à°®à±à°¦à±à°° à°°à°•à±à°·à°£", color: "#16a085" }
];

/* â”€â”€ State â”€â”€ */
let lang = 'en';
let firstAidData = [];
let disastersData = [];
let contactsData = [];
let currentSpeech = null;
let userLocation = null;
let currentDisaster = null;

/* â”€â”€ Translations â”€â”€ */
const T = {
    en: {
        appSub: 'Offline Assistant', langBtn: 'à°¤à±†à°²à±à°—à±',
        sosLabel: 'Tap for Help', sosDesc: 'Tap SOS to send your location via SMS or call 108',
        smsBtnLabel: 'Send SOS SMS', smsBtnSub: 'with your location',
        callBtnLabel: 'Call 108', callBtnSub: 'Ambulance',
        quickDial: 'âš¡ Quick Dial',
        locationDefault: 'Tap SOS to get your location',
        locationGetting: 'ðŸ“ Getting your location...',
        locationFound: (a, b) => `ðŸ“ Location: ${a}, ${b}`,
        locationFailed: 'ðŸ“ Location unavailable â€” SMS sent without GPS',
        searchPlaceholder: 'ðŸ” Search first aid (e.g. CPR, burn, snake...)',
        firstAidSteps: (n) => `${n} steps`, speakAll: 'ðŸ”Š Read All', close: 'Close',
        back: 'â† Back to Disasters', noResults: 'ðŸ” No results. Try: CPR, burn, snake, bleeding...',
        beforeTitle: 'ðŸŸ¢ Before â€” Prepare', duringTitle: 'ðŸ”´ During â€” Survive', afterTitle: 'ðŸ”µ After â€” Recover',
        contactsTitle: 'ðŸ“ž Emergency Contacts', contactsSub: 'Tap any number to call directly',
        tapHint: 'Tap to view tips',
        navSos: 'SOS', navFirstAid: 'First Aid', navDisasters: 'Disasters', navContacts: 'Contacts',
        modalSosTitle: 'SOS Activated!', modalSosMsg: 'Choose how to get help:',
        modalSms: 'ðŸ’¬ SMS with Location', modalCall: 'ðŸ“ž Call 108', modalCancel: 'Cancel',
        smsBody: (loc) => `ðŸ†˜ EMERGENCY SOS!\nI need immediate help!\n${loc}\nPlease send emergency services now.`,
        smsNoLoc: 'ðŸ†˜ EMERGENCY SOS!\nI need immediate help! Location unavailable.\nPlease send emergency services now.'
    },
    te: {
        appSub: 'à°†à°«à±â€Œà°²à±ˆà°¨à± à°¸à°¹à°¾à°¯à°•à±à°¡à±', langBtn: 'English',
        sosLabel: 'à°¸à°¹à°¾à°¯à°¾à°¨à°¿à°•à°¿ à°¨à±Šà°•à±à°•à°‚à°¡à°¿', sosDesc: 'SMS à°¦à±à°µà°¾à°°à°¾ à°¸à±à°¥à°¾à°¨à°¾à°¨à±à°¨à°¿ à°ªà°‚à°ªà°¡à°¾à°¨à°¿à°•à°¿ à°²à±‡à°¦à°¾ 108 à°•à°¾à°²à± à°šà±‡à°¯à°¡à°¾à°¨à°¿à°•à°¿ SOS à°¨à±Šà°•à±à°•à°‚à°¡à°¿',
        smsBtnLabel: 'SOS SMS à°ªà°‚à°ªà°‚à°¡à°¿', smsBtnSub: 'à°®à±€ à°¸à±à°¥à°¾à°¨à°‚à°¤à±‹',
        callBtnLabel: '108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿', callBtnSub: 'à°…à°‚à°¬à±à°²à±†à°¨à±à°¸à±',
        quickDial: 'âš¡ à°¤à±à°µà°°à°¿à°¤ à°¡à°¯à°²à±',
        locationDefault: 'à°®à±€ à°¸à±à°¥à°¾à°¨à°‚ à°ªà±Šà°‚à°¦à°¡à°¾à°¨à°¿à°•à°¿ SOS à°¨à±Šà°•à±à°•à°‚à°¡à°¿',
        locationGetting: 'ðŸ“ à°®à±€ à°¸à±à°¥à°¾à°¨à°‚ à°¤à±†à°²à±à°¸à±à°•à±à°‚à°Ÿà±à°¨à±à°¨à°¾à°‚...',
        locationFound: (a, b) => `ðŸ“ à°¸à±à°¥à°¾à°¨à°‚: ${a}, ${b}`,
        locationFailed: 'ðŸ“ à°¸à±à°¥à°¾à°¨à°‚ à°…à°‚à°¦à±à°¬à°¾à°Ÿà±à°²à±‹ à°²à±‡à°¦à±',
        searchPlaceholder: 'ðŸ” à°ªà±à°°à°¥à°® à°šà°¿à°•à°¿à°¤à±à°¸ à°µà±†à°¤à°•à°‚à°¡à°¿ (à°‰à°¦à°¾: CPR, à°•à°¾à°²à°¿à°¨, à°ªà°¾à°®à±...)',
        firstAidSteps: (n) => `${n} à°¦à°¶à°²à±`, speakAll: 'ðŸ”Š à°…à°¨à±à°¨à±€ à°šà°¦à°µà°‚à°¡à°¿', close: 'à°®à±‚à°¯à°‚à°¡à°¿',
        back: 'â† à°µà°¿à°ªà°¤à±à°¤à±à°²à°•à± à°¤à°¿à°°à°¿à°—à°¿', noResults: 'ðŸ” à°«à°²à°¿à°¤à°¾à°²à± à°•à°¨à±à°—à±Šà°¨à°¬à°¡à°²à±‡à°¦à±. à°ªà±à°°à°¯à°¤à±à°¨à°¿à°‚à°šà°‚à°¡à°¿: CPR, à°•à°¾à°²à°¿à°¨, à°ªà°¾à°®à±...',
        beforeTitle: 'ðŸŸ¢ à°®à±à°‚à°¦à± â€” à°¸à°¨à±à°¨à°¦à±à°§à°¤', duringTitle: 'ðŸ”´ à°¸à°®à°¯à°‚à°²à±‹ â€” à°®à°¨à±à°—à°¡', afterTitle: 'ðŸ”µ à°¤à°°à±à°µà°¾à°¤ â€” à°•à±‹à°²à±à°•à±‹à°µà°¡à°‚',
        contactsTitle: 'ðŸ“ž à°…à°¤à±à°¯à°µà°¸à°° à°¨à°‚à°¬à°°à±à°²à±', contactsSub: 'à°¨à±‡à°°à±à°—à°¾ à°•à°¾à°²à± à°šà±‡à°¯à°¡à°¾à°¨à°¿à°•à°¿ à°à°¦à±ˆà°¨à°¾ à°¨à°‚à°¬à°°à±â€Œà°¨à± à°¨à±Šà°•à±à°•à°‚à°¡à°¿',
        tapHint: 'à°šà°¿à°Ÿà±à°•à°¾à°²à± à°šà±‚à°¡à°Ÿà°¾à°¨à°¿à°•à°¿ à°¨à±Šà°•à±à°•à°‚à°¡à°¿',
        navSos: 'SOS', navFirstAid: 'à°ªà±à°°à°¥à°® à°šà°¿à°•à°¿à°¤à±à°¸', navDisasters: 'à°µà°¿à°ªà°¤à±à°¤à±à°²à±', navContacts: 'à°¨à°‚à°¬à°°à±à°²à±',
        modalSosTitle: 'SOS à°¸à°•à±à°°à°¿à°¯à°®à±ˆà°‚à°¦à°¿!', modalSosMsg: 'à°¸à°¹à°¾à°¯à°‚ à°ªà±Šà°‚à°¦à±‡ à°µà°¿à°§à°‚ à°Žà°‚à°šà±à°•à±‹à°‚à°¡à°¿:',
        modalSms: 'ðŸ’¬ à°¸à±à°¥à°¾à°¨à°‚à°¤à±‹ SMS', modalCall: 'ðŸ“ž 108 à°•à°¾à°²à± à°šà±‡à°¯à°‚à°¡à°¿', modalCancel: 'à°°à°¦à±à°¦à± à°šà±‡à°¯à°‚à°¡à°¿',
        smsBody: (loc) => `ðŸ†˜ à°…à°¤à±à°¯à°µà°¸à°° SOS!\nà°¨à°¾à°•à± à°µà±†à°‚à°Ÿà°¨à±‡ à°¸à°¹à°¾à°¯à°‚ à°…à°µà°¸à°°à°‚!\n${loc}\nà°¦à°¯à°šà±‡à°¸à°¿ à°µà±†à°‚à°Ÿà°¨à±‡ à°…à°¤à±à°¯à°µà°¸à°° à°¸à±‡à°µà°²à°¨à± à°ªà°‚à°ªà°‚à°¡à°¿.`,
        smsNoLoc: 'ðŸ†˜ à°…à°¤à±à°¯à°µà°¸à°° SOS!\nà°¨à°¾à°•à± à°µà±†à°‚à°Ÿà°¨à±‡ à°¸à°¹à°¾à°¯à°‚ à°…à°µà°¸à°°à°‚! à°¸à±à°¥à°¾à°¨à°‚ à°…à°‚à°¦à±à°¬à°¾à°Ÿà±à°²à±‹ à°²à±‡à°¦à±.\nà°¦à°¯à°šà±‡à°¸à°¿ à°µà±†à°‚à°Ÿà°¨à±‡ à°…à°¤à±à°¯à°µà°¸à°° à°¸à±‡à°µà°²à°¨à± à°ªà°‚à°ªà°‚à°¡à°¿.'
    }
};

/* â”€â”€ Init â”€â”€ */
document.addEventListener('DOMContentLoaded', () => {
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('service-worker.js').catch(() => { });
    firstAidData = FIRST_AID_DATA;
    disastersData = DISASTERS_DATA;
    contactsData = CONTACTS_DATA;
    renderAll();
});

function renderAll() {
    renderFirstAid(firstAidData);
    renderDisasterGrid();
    renderContacts();
    applyLanguageStrings();
}

/* â”€â”€ Language â”€â”€ */
function toggleLanguage() {
    lang = lang === 'en' ? 'te' : 'en';
    document.body.classList.toggle('lang-te', lang === 'te');
    applyLanguageStrings();
    renderFirstAid(getFilteredFirstAid());
    renderDisasterGrid();
    renderContacts();
    if (currentDisaster !== null) renderDisasterDetail(currentDisaster);
}

function applyLanguageStrings() {
    const t = T[lang];
    const s = (id, v) => { const el = document.getElementById(id); if (el) el.textContent = v; };
    s('app-subtitle', t.appSub); s('langLabel', t.langBtn);
    s('sos-label', t.sosLabel); s('sos-desc', t.sosDesc);
    s('sms-btn-label', t.smsBtnLabel); s('sms-btn-sub', t.smsBtnSub);
    s('call-btn-label', t.callBtnLabel); s('call-btn-sub', t.callBtnSub);
    s('quick-dial-title', t.quickDial); s('locationText', t.locationDefault);
    s('speak-all-label', t.speakAll);
    s('nav-label-sos', t.navSos); s('nav-label-firstaid', t.navFirstAid);
    s('nav-label-disasters', t.navDisasters); s('nav-label-contacts', t.navContacts);
    s('contacts-title', t.contactsTitle); s('contacts-sub', t.contactsSub);
    s('modal-sos-title', t.modalSosTitle); s('modal-sos-msg', t.modalSosMsg);
    s('modal-sms', t.modalSms); s('modal-call', t.modalCall);
    s('modal-cancel', t.modalCancel); s('modal-close-label', t.close);
    const si = document.getElementById('firstaidSearch');
    if (si) si.placeholder = t.searchPlaceholder;
}

/* â”€â”€ Tabs â”€â”€ */
function switchTab(tab) {
    document.querySelectorAll('.tab-panel').forEach(p => p.classList.remove('active'));
    document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
    document.getElementById(`tab-${tab}`).classList.add('active');
    document.getElementById(`nav-${tab}`).classList.add('active');
    stopSpeech();
}

/* â”€â”€ SOS â”€â”€ */
function triggerSOS() { openModal('sosModal'); getLocation(); }

function getLocation() {
    const s = (v) => { const el = document.getElementById('locationText'); if (el) el.textContent = v; };
    s(T[lang].locationGetting);
    if (!navigator.geolocation) { s(T[lang].locationFailed); return; }
    navigator.geolocation.getCurrentPosition(
        pos => { const la = pos.coords.latitude.toFixed(5), lo = pos.coords.longitude.toFixed(5); userLocation = { lat: la, lon: lo }; s(T[lang].locationFound(la, lo)); },
        () => { userLocation = null; s(T[lang].locationFailed); },
        { timeout: 10000, enableHighAccuracy: true }
    );
}

function sendSOSSMS() {
    const t = T[lang];
    const body = userLocation
        ? t.smsBody(`https://maps.google.com/?q=${userLocation.lat},${userLocation.lon}`)
        : t.smsNoLoc;
    window.location.href = `sms:108?body=${encodeURIComponent(body)}`;
    closeModal('sosModal');
}

function callEmergency() { window.location.href = 'tel:108'; closeModal('sosModal'); }

/* â”€â”€ First Aid â”€â”€ */
function renderFirstAid(data) {
    const list = document.getElementById('firstaidList');
    if (!list) return;
    if (!data || !data.length) { list.innerHTML = `<p class="no-results">${T[lang].noResults}</p>`; return; }
    list.innerHTML = data.map(item => {
        const title = lang === 'te' ? item.title_te : item.title;
        const steps = lang === 'te' ? item.steps_te : item.steps;
        const stepsHTML = steps.map((step, i) => `
      <div class="step-item">
        <span class="step-num">${i + 1}</span>
        <span class="step-text">${step}</span>
        <button class="step-speak-btn" onclick="speakText('${esc(step)}',this)" title="Read">ðŸ”Š</button>
      </div>`).join('');
        return `
      <div class="aid-card" id="aid-${item.id}">
        <div class="aid-card-header" onclick="toggleAidCard(${item.id})">
          <span class="aid-emoji">${item.icon}</span>
          <div style="flex:1">
            <div class="aid-title">${title}</div>
            <div class="aid-subtitle">${T[lang].firstAidSteps(steps.length)}</div>
          </div>
          <div class="aid-actions">
            <button class="speak-btn" onclick="event.stopPropagation();speakAidAll(${item.id},this)">ðŸ”Š</button>
            <button class="expand-btn" onclick="event.stopPropagation();toggleAidCard(${item.id})"><span class="expand-icon">â–¾</span></button>
          </div>
        </div>
        <div class="aid-steps">${stepsHTML}</div>
      </div>`;
    }).join('');
}

function toggleAidCard(id) { document.getElementById(`aid-${id}`)?.classList.toggle('expanded'); }
function getFilteredFirstAid() { return searchData(document.getElementById('firstaidSearch')?.value || ''); }
function searchFirstAid(q) { renderFirstAid(searchData(q)); }
function searchData(q) {
    if (!q.trim()) return firstAidData;
    const ql = q.toLowerCase();
    return firstAidData.filter(i => {
        return (i.title + ' ' + i.title_te).toLowerCase().includes(ql)
            || (i.keywords || []).join(' ').toLowerCase().includes(ql)
            || (i.steps || []).join(' ').toLowerCase().includes(ql);
    });
}
function speakAidAll(id, btn) {
    const item = firstAidData.find(f => f.id === id);
    if (!item) return;
    speakText((lang === 'te' ? item.steps_te : item.steps).join('. '), btn);
}

/* â”€â”€ Disasters â”€â”€ */
function renderDisasterGrid() {
    const grid = document.getElementById('disasterGrid');
    if (!grid) return;
    grid.innerHTML = disastersData.map(d => {
        const name = lang === 'te' ? d.type_te : d.type;
        return `<div class="disaster-card" onclick="showDisasterDetail(${d.id})" style="border-color:${d.color}33;box-shadow:inset 0 0 30px ${d.color}08">
      <span class="disaster-emoji">${d.icon}</span>
      <div class="disaster-name">${name}</div>
      <div class="disaster-tap">${T[lang].tapHint}</div>
    </div>`;
    }).join('');
}

function showDisasterDetail(id) {
    currentDisaster = id;
    document.getElementById('disasterGrid').classList.add('hidden');
    renderDisasterDetail(id);
    document.getElementById('disasterDetail').classList.remove('hidden');
}

function renderDisasterDetail(id) {
    const d = disastersData.find(x => x.id === id); if (!d) return;
    const t = T[lang];
    const name = lang === 'te' ? d.type_te : d.type;
    const before = lang === 'te' ? d.before_te : d.before;
    const during = lang === 'te' ? d.during_te : d.during;
    const after = lang === 'te' ? d.after_te : d.after;
    const tips = arr => arr.map(tip => `<div class="phase-tip"><span class="tip-dot"></span><span>${tip}</span></div>`).join('');
    document.getElementById('disasterDetail').innerHTML = `
    <button class="back-btn" onclick="backToDisasterGrid()">${t.back}</button>
    <div class="disaster-detail-header"><span class="detail-emoji">${d.icon}</span><h2 class="detail-title">${name}</h2></div>
    <div class="phase-block"><div class="phase-header phase-before">${t.beforeTitle}</div><div class="phase-tips">${tips(before)}</div></div>
    <div class="phase-block"><div class="phase-header phase-during">${t.duringTitle}</div><div class="phase-tips">${tips(during)}</div></div>
    <div class="phase-block"><div class="phase-header phase-after">${t.afterTitle}</div><div class="phase-tips">${tips(after)}</div></div>`;
}

function backToDisasterGrid() {
    currentDisaster = null;
    document.getElementById('disasterGrid').classList.remove('hidden');
    document.getElementById('disasterDetail').classList.add('hidden');
    document.getElementById('disasterDetail').innerHTML = '';
}

/* â”€â”€ Contacts â”€â”€ */
function renderContacts() {
    const list = document.getElementById('contactsList'); if (!list) return;
    list.innerHTML = contactsData.map(c => {
        const name = lang === 'te' ? c.name_te : c.name;
        const desc = lang === 'te' ? c.description_te : c.description;
        return `<a href="tel:${c.number}" class="contact-card" style="border-color:${c.color}33">
      <div class="contact-icon-wrap" style="background:${c.color}22;border:1px solid ${c.color}44">${c.icon}</div>
      <div class="contact-info"><div class="contact-name">${name}</div><div class="contact-desc">${desc}</div></div>
      <div class="contact-number-badge" style="color:${c.color};border-color:${c.color}33">${c.number}</div>
    </a>`;
    }).join('');
}

/* â”€â”€ Voice â”€â”€ */
function speakText(text, btn) {
    if (!window.speechSynthesis) return;
    if (speechSynthesis.speaking) { speechSynthesis.cancel(); currentSpeech = null; return; }
    const u = new SpeechSynthesisUtterance(text);
    u.lang = lang === 'te' ? 'te-IN' : 'en-IN';
    u.rate = 0.9;
    const voices = speechSynthesis.getVoices();
    const v = voices.find(x => lang === 'te' ? x.lang.startsWith('te') : x.lang.includes('en'));
    if (v) u.voice = v;
    if (btn) {
        const p = btn.closest('.aid-card') || btn.parentElement;
        p?.classList.add('speaking');
        u.onend = () => p?.classList.remove('speaking');
        u.onerror = () => p?.classList.remove('speaking');
    }
    currentSpeech = u;
    speechSynthesis.speak(u);
}
function stopSpeech() { if (window.speechSynthesis) speechSynthesis.cancel(); currentSpeech = null; }
if (window.speechSynthesis) { speechSynthesis.getVoices(); speechSynthesis.onvoiceschanged = () => speechSynthesis.getVoices(); }

/* â”€â”€ Modals â”€â”€ */
function openModal(id) { document.getElementById(id)?.classList.remove('hidden'); }
function closeModal(id) { document.getElementById(id)?.classList.add('hidden'); }
document.addEventListener('click', e => { if (e.target.classList.contains('modal-overlay')) e.target.classList.add('hidden'); });

/* â”€â”€ Util â”€â”€ */
function esc(s) { return s.replace(/'/g, "\\'").replace(/"/g, '&quot;'); }
